<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D視覺化專案</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="css/daily.css">
</head>
<body>
    <nav class="navbar navbar-light">
        <!-- 導覽列標題/LOGO -->
        <div onclick="location.href='/index.html'" id="logo">
          <img src="/picture/logo_NSL.png" style="height: 8vh;" alt="">
          <img src="/picture/Logo-text_new.png" style="height: 6vh;" alt="">
        </div>
        <!-- 導覽列右側按鈕，md消失 -->
        <div class="navbar-toggler">
          <button class="btn btn-outline-light" onclick="opensetting()">
            <img src="picture/settings-white-icon.jpg" alt="settings-icon" height="20px">
          </button>
          <button class="btn btn-outline-light" onclick="location.href = 'login.html'">login</button>
          
        </div>
    
      </nav>
      
      <div class="ul1" style="display:flex; flex-direction:row;width: auto; margin-right: 5px;" id="Daily-Event-name-list">
      </div>
      
      <ul class="ul2" id="identity" style="display:inline;margin-left: 0%;margin-right: 5px;height: auto;">
        <li class="list-group-item-action " id="data0" style="display:flex; background-color:white;  flex-direction:row;" ></li>
        <li class="list-group-item-action " id="data1" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data2" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data3" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data4" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data5" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data6" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data7" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data8" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data9" style="display:flex;  background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data10" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data11" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data12" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data13" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data14" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data15" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data16" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data17" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data18" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data19" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data20" style="display:flex; background-color:white;  flex-direction:row;" ></li>
        <li class="list-group-item-action " id="data21" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data22" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data23" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data24" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data25" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data26" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data27" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data28" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data29" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data30" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data31" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data32" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data33" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data34" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data35" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data36" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data37" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data38" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data39" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data40" style="display:flex; background-color:white; flex-direction:row;" ></li>
        <li class="list-group-item-action " id="data41" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data42" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data43" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data44" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data45" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data46" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data47" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data48" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data49" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data50" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data51" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data52" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data53" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data54" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data55" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data56" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data57" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data58" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data59" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data60" style="display:flex; background-color:white; flex-direction:row;" ></li>
        <li class="list-group-item-action " id="data61" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data62" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data63" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data64" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data65" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data66" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data67" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data68" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data69" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data70" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data71" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data72" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data73" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data74" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data75" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data76" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data77" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data78" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data79" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data80" style="display:flex; background-color:white; flex-direction:row;" ></li>
        <li class="list-group-item-action " id="data81" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data82" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data83" style="display:flex; background-color:white; flex-direction:row;"></li>
        <li class="list-group-item-action " id="data84" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data85" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data86" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data87" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data88" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data89" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data90" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data91" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data92" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data93" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data94" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data95" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data96" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data97" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data98" style="display:flex; background-color:white;  flex-direction:row;"></li>
        <li class="list-group-item-action " id="data99" style="display:flex; background-color:white;  flex-direction:row;"></li>
      <ul>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"></script>
    <script type="module">
      // document.querySelector("#start").addEventListener('click', function () {
        console.log(document.location.href)
        console.log(document.location.search)
        let str = document.location.search
        let strAry = str.split('&')
        console.log(strAry[0])
        console.log(strAry[1])
        let strAryd,t1,t1st,t2,t2st, time
        // t1=strAry[0].split('=')
        // t2=strAry[1].split('=')
        // console.log(t1[1])
        // console.log(t2[1])
          t1=strAry[0].split('=')
          t2=strAry[1].split('=')
        search_detail_daily(t1[1], t2[1]);
      // })
      function search_detail_daily(L_date, R_date){
      var request = new XMLHttpRequest();
        request.open("POST", "http://120.126.151.195:5000/daily_counts", true)
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8")
        // request.responseType = "text"
        // let Search_string_destip = 'ip=' + index + "&eventSeverity=" + serv +'&date=2021-08-24'
        request.send(JSON.stringify({ "L_date": L_date, "R_date": R_date}))
        // request.send(Search_string_destip)
        // console.log(Search_string_destip)
        request.onreadystatechange = function () {
          //收到資料後，畫大列表
          if (this.readyState === 4 && this.status === 200) {
            // Typical action to be performed when the document is ready:
            let curr_json = JSON.parse(request.responseText)
            let menu_data = curr_json
            console.log(curr_json);
            if (curr_json.length == 0) return;
            // $("#identity").empty();
            let len = '', j = '', k = ''
            let arr = []
            let leng = menu_data['data'][0].length
            let ll =menu_data['data'][1].length
            for (let i = 0; i < leng; i++){
              
              $("#Daily-Event-name-list:last").append(
            '<div class="de" style="background-color:rgba(0, 0, 0, 0.9);">'+
                '<a style="color:white;">'+menu_data['data'][0][i] +'</a>'+'</div>'
            )

            }
            for(let i=0;i<ll;i++){
              let number = 'data' + i 
              for(let j=0;j<leng;j++){
                $("#"+number).append(
                '<div class="sever-'+menu_data['data'][1][i][0]+' content flex-column " onclick ="draw_daily(\'' + number + ')">'+
                    '<a>'+ menu_data['data'][1][i][j] +'</a>'+'</div>'
                )
              }
            }
            
          }
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"></script>
  <script type="module" src = "./modules/data_control.js"></script>
  <script type="module" src = "./modules/map_three.js"></script>
  <script type="module" src="./modules/data_transmission.js"></script>
  <script type="module" src="./modules/html_button.js"></script>
  <script src="./modules/menu.js"></script>
</body>
</html>